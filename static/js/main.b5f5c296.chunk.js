(this["webpackJsonpsandtable-test"]=this["webpackJsonpsandtable-test"]||[]).push([[0],{25:function(e,t,n){e.exports=n(42)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(17),i=n.n(r),c=(n(30),n(11)),l=n(7),s=n(44),u=(n(31),n(18)),m=n(24),d=n(6),h=n(12),v=function(e,t){var n,a,o,r,i,c=[],l=[],s=[],u={},m={x:-99999,y:-99999},d=(null===t||void 0===t?void 0:t.mode)||"random",h=0,v=["random","uniform","pattern"];window.particles=c;var f={random:["#FFF","#FFF"],uniform:["#FFF","#FFF"],drop:["#1d75cf","#3a5945"],ribbon:["#702744","#f98d00"]};function p(){n.width=window.innerWidth,n.height=500,s=[]}function b(){return window.pageXOffset||window.document.documentElement.scrollLeft}function E(){return window.pageYOffset||window.document.documentElement.scrollTop}function g(e){e.preventDefault();var t=document.querySelector(".react-transform-element"),a=t?1/(t.getBoundingClientRect().width/t.offsetWidth)*4:1,o=e.pageX,r=e.pageY,i=b()+n.getBoundingClientRect().left,c=E()+n.getBoundingClientRect().top;m.x=(o-i)*a,m.y=(r-c)*a}var w=function(){m={x:-1e3,y:-1e3}},y=function(){w()};function x(e){e.preventDefault(),w()}function N(e){e.preventDefault(),m.x=e.touches[0].pageX-(b()+n.getBoundingClientRect().left),m.y=e.touches[0].pageY-(E()+n.getBoundingClientRect().top)}function C(e){if(e.preventDefault(),d=v[Math.max(0,--h)],s=[],0===h)return r.classList.remove("ip-nav-show"),void O("unbind","left");h===v.length-1&&(i.classList.add("ip-nav-show"),O("bind","right"))}function M(e){var t;(e.preventDefault(),d=v[Math.min(v.length,++h)],s=[],1===h)&&(null===(t=r)||void 0===t||t.classList.add("ip-nav-show"),O("bind","left"));if(h===v.length-1){var n,a;if(null===(n=i)||void 0===n?void 0:n.classList.contains("ip-nav-show"))null===(a=i)||void 0===a||a.classList.remove("ip-nav-show");O("unbind","right")}}function O(e,t){var n="left"===t?C:M;switch(e){case"bind":var a=document.querySelector(".ip-nav-".concat(t));a&&(a.addEventListener("touchstart",n,!1),a.addEventListener("click",n,!1),a.style.cursor="pointer");break;case"unbind":var o=document.querySelector(".ip-nav-".concat(t));o&&(o.removeEventListener("touchstart",n,!1),o.removeEventListener("click",n,!1),o.style.cursor="default")}}function S(){a.clearRect(0,0,n.width,n.height),function(){if([].forEach.call(c,(function(e,a){switch(d){case"random":u.x=e.initX,u.y=e.initY;break;case"uniform":case"pattern":var o=Math.floor(Math.sqrt(512)),r=Math.floor(e.stepCount/o),i=e.stepCount%o,c=n.width/o,l=n.height/o;u.x=r*c,u.y=i*l;break;case"ribbon":u.x=.5*n.width+90*Math.sin(a)*Math.cos(a),u.y=320+140*(-Math.sin(a)-1)}var s=.08*(1-e.friction);if(e.interactive)e.x-=(m.x-e.x)*s,e.y-=(m.y-e.y)*s,e.angle+=.08;else{var h=u.x-e.x,v=u.y-e.y;e.initialized&&!t.particlesBackToOrigin||(e.x+=h*s,e.y+=v*s,e.angle+=1e-4,e.initialized=h<.05&&v<.05)}})),s.length<l.length)for(var e=[].slice.call(l,s.length,l.length),a=0;a<e.length;a++)l.splice(a,1)}(),[].forEach.call(c,(function(e,t){if(e.alpha+=.05*(e.maxAlpha-e.alpha),e.hasBorn&&(e.radius+=(0-e.radius)*e.bornSpeed,0===Math.round(e.radius))){switch(d){case"random":e.color=f.random[~~(Math.random()*f.random.length)];break;case"uniform":e.color=f.uniform[~~(Math.random()*f.uniform.length)];break;case"pattern":var n=Math.floor(Math.sqrt(512)),a=Math.floor(e.stepCount/n),o=e.stepCount%n,r=Math.floor(n/2),i=Math.floor(.35*n),c=Math.floor(.85*n);if(o>i){var l=Math.abs(a-r);l*l/4>4*(c-o)&&(e.alpha=.1,e.maxAlpha=.1)}break;case"ribbon":e.color=f.ribbon[~~(Math.random()*f.ribbon.length)]}e.hasBorn=!1}e.hasBorn||(e.radius+=(e.maxRadius-e.radius)*e.bornSpeed,Math.round(e.radius)===e.maxRadius&&(e.hasBorn=!0));var s=function(e,t){var n=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return Math.sqrt(n*n+a*a)}(m,e)-e.radius;s<=240?(e.interactive=!0,e.friction=(s-120)/120,e.friction>.8&&(e.friction=1)):(e.interactive=!1,e.friction=0)})),[].forEach.call(c,(function(e,t){a.save(),a.globalAlpha=e.alpha,a.fillStyle=e.color,a.font="".concat(24,"px Lato, Arial, sans-serif"),a.fillText(e.char,e.x,e.y),a.beginPath(),a.fill(),a.restore()})),o=window.requestAnimFrame(S)}var k=function(e,t){return~~(Math.random()*(t-e+1)+e)},_=function(){var e=t.chars||["\u5b57"];return e[Math.floor(Math.random()*e.length)]};window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/660)},window.addEventListener("initCanvas",(function e(){window.removeEventListener("initCanvas",e,!1);var l,s=document.querySelector(".ip-slideshow"),u=document.querySelector("canvas");u&&(null===s||void 0===s||s.removeChild(u),n=null),n=document.createElement("canvas"),(null===t||void 0===t?void 0:t.fullscreen)?(n.width=4*window.innerWidth,n.height=4*window.innerHeight):(n.width=1920,n.height=1440),null===s||void 0===s||s.appendChild(n),n.getContext&&n.getContext("2d")?(a=n.getContext("2d"),"ontouchmove"in window?(n.addEventListener("touchup",x,!1),n.addEventListener("touchmove",N,!1)):(n.addEventListener("mousemove",g,!1),n.addEventListener("mouseout",y,!1)),O("bind","left"),O("bind","right"),window.onresize=p,function(){for(var e=0;e<512;e++){var t,a,r=e/512,i=k(0,n.width),l=k(0,n.height);t=i,a=l-k(0,3*n.height);var s=k(0,1),u=!(s>0||s<12),m=f.random[~~(Math.random()*f.random.length)];c.push({friction:0,char:_(),initX:i,initY:l,x:t,y:a,hasBorn:u,ease:.04+.06*Math.random(),bornSpeed:.07+.07*Math.random(),alpha:0,maxAlpha:.4+.5*Math.random(),radius:s,maxRadius:3,color:m,interactive:!1,angle:0,steps:r,stepCount:e})}o&&window.cancelAnimationFrame(o);S()}(),r=document.querySelector(".ip-nav-left"),null===(l=i=document.querySelector(".ip-nav-right"))||void 0===l||l.classList.add("ip-nav-show")):console.error("Sorry, switch to a better browser to see this experiment.")}),!1)},f=(n(32),function(e){var t=e.chars,n=e.particlesBackToOrigin,r=e.mode,i=e.fullscreen;return console.log("SandTest1 rendered"),Object(a.useEffect)((function(){v(window,{chars:t,particlesBackToOrigin:n,mode:r,fullscreen:i}),function(){var e=document.createEvent("HTMLEvents");e.initEvent("initCanvas",!0,!0),e.eventName="initCanvas",document.dispatchEvent(e)}()}),[t,n,r,i]),o.a.createElement("div",{className:"sand-test-2"},o.a.createElement("div",{className:"ip-slideshow-wrapper"},o.a.createElement("div",{className:"ip-slideshow"})))}),p=(n(33),function(e){e.title,e.children;var t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(["\u9019\u4e0d\u662f","\u771f\u6b63\u7684","\u6587\u6848"]),l=Object(d.a)(c,2),s=l[0],v=l[1],p=Object(a.useState)(""),b=Object(d.a)(p,2),E=(b[0],b[1],Object(a.useState)(!0)),g=Object(d.a)(E,2),w=g[0],y=g[1],x=Object(a.useState)("random"),N=Object(d.a)(x,2),C=N[0],M=N[1],O=Object(a.useState)(!1),S=Object(d.a)(O,2),k=S[0],_=S[1],j=Object(a.useState)(""),F=Object(d.a)(j,2),L=F[0],q=F[1],B=Object(a.useState)(!1),A=Object(d.a)(B,2),R=A[0],T=A[1];Object(a.useEffect)((function(){q(s.join("___"))}),[s]),console.log("SandTest1 rendered");s.length;return o.a.createElement("div",{className:"sand-test ".concat(R?"is-fullscreen":"")},o.a.createElement("div",{className:"sand-test__body"},o.a.createElement("div",{className:"sand-test__board"},o.a.createElement("h2",null,"SAND TABLE TEST 1"),o.a.createElement("div",{className:"sand-board"},o.a.createElement(h.b,{defaultScale:1,options:{minScale:1,maxScale:4}},(function(e){var t=e.zoomIn,n=e.zoomOut,a=e.resetTransform;Object(u.a)(e,["zoomIn","zoomOut","resetTransform"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,null,o.a.createElement("div",{className:"sand-board__zoomer"},o.a.createElement("div",{className:"sand-board__body"},o.a.createElement(f,{chars:s,particlesBackToOrigin:w,mode:C,fullscreen:R})))),o.a.createElement("div",{className:"tools"},o.a.createElement("button",{type:"button",title:"Fullscreen",className:"fullscreen-btn",onClick:function(){return T(!R)}},"[ ]"),o.a.createElement("button",{type:"button",title:"Zoom In",onClick:t},"+"),o.a.createElement("button",{type:"button",title:"Zoom Out",onClick:n},"-"),o.a.createElement("button",{type:"button",title:"Reset Zoom",onClick:a},"x")))}))),o.a.createElement("nav",null,o.a.createElement("span",{className:"ip-nav-left"}),o.a.createElement("span",{className:"ip-nav-right"}))),o.a.createElement("div",{className:"sand-test__control"},o.a.createElement("div",{className:"sand-msg"},o.a.createElement("h3",null,"Messages"),k?o.a.createElement("div",{className:"sand-msg-editpanel"},o.a.createElement("textarea",{className:"sand-msg-textarea",onChange:function(e){return q(e.target.value)}},L),o.a.createElement("div",null,o.a.createElement("button",{className:"custom-button",type:"button",onClick:function(){return function(){var e=L.split("___");v(e),_(!1)}()}},"Save"),o.a.createElement("button",{className:"custom-button",type:"button",onClick:function(){return q(s.join("___")),void _(!1)}},"Cancel"))):o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"".concat(s.join("___"),"..."),o.a.createElement("button",{className:"custom-button",type:"button",onClick:function(){return _(!0)}},"Edit")),o.a.createElement("div",{className:"sand-msg-input"},o.a.createElement("input",{type:"text",value:r,placeholder:"Leave your msg",onChange:function(e){return i(e.target.value)}}),o.a.createElement("button",{type:"button",onClick:function(){return v([].concat(Object(m.a)(s),[r])),void i("")}},"Submit")))),o.a.createElement("div",{className:"sand-options"},o.a.createElement("h3",null,"Options"),o.a.createElement("div",{className:"sand-option-group"},o.a.createElement("h4",{className:"sand-option-label"},"Particles move back?"),o.a.createElement("select",{onChange:function(e){return y("Y"===e.target.value)}},o.a.createElement("option",{value:"Y"},"Yes"),o.a.createElement("option",{value:"N"},"No"))),o.a.createElement("div",{className:"sand-option-group"},o.a.createElement("h4",{className:"sand-option-label"},"Particles Arrangement"),o.a.createElement("select",{onChange:function(e){return M(e.target.value)}},o.a.createElement("option",{value:"random"},"Random"),o.a.createElement("option",{value:"pattern"},"Pattern")))))))}),b=function(){Object(s.a)().t,Object(l.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"main-layout"},o.a.createElement("div",{className:"main-layout__body"},o.a.createElement("h1",{className:"a11y-hidden"},"NWD50"),o.a.createElement("main",{className:"main-layout__content"},o.a.createElement(p,null)))))},E=function(){return o.a.createElement(c.a,null,o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/:lang?",component:b})))},g=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.b5f5c296.chunk.js.map