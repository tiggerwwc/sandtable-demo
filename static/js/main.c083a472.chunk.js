(this["webpackJsonpsandtable-test"]=this["webpackJsonpsandtable-test"]||[]).push([[0],{25:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),i=a.n(r),c=(a(30),a(11)),l=a(6),s=a(44),d=(a(31),a(18)),u=a(24),m=a(7),h=a(12),v=function(e,t){var a,n,o,r,i,c=[],l=[],s=[],d={},u={x:-99999,y:-99999},m=(null===t||void 0===t?void 0:t.mode)||"random",h=0,v=["random","uniform","pattern"];window.particles=c;var f={random:["#FFF","#FFF"],uniform:["#FFF","#FFF"],drop:["#1d75cf","#3a5945"],ribbon:["#702744","#f98d00"]};function p(){a.width=window.innerWidth,a.height=500,s=[]}function g(){return window.pageXOffset||window.document.documentElement.scrollLeft}function E(){return window.pageYOffset||window.document.documentElement.scrollTop}function b(e){e.preventDefault();var t=document.querySelector(".react-transform-element"),n=t?1/(t.getBoundingClientRect().width/t.offsetWidth)*4:1,o=e.pageX,r=e.pageY,i=g()+a.getBoundingClientRect().left,c=E()+a.getBoundingClientRect().top;u.x=(o-i)*n,u.y=(r-c)*n}var w=function(){u={x:-1e3,y:-1e3}},y=function(){w()};function x(e){e.preventDefault(),w()}function M(e){e.preventDefault(),u.x=e.touches[0].pageX-(g()+a.getBoundingClientRect().left),u.y=e.touches[0].pageY-(E()+a.getBoundingClientRect().top)}function N(e){if(e.preventDefault(),m=v[Math.max(0,--h)],s=[],0===h)return r.classList.remove("ip-nav-show"),void S("unbind","left");h===v.length-1&&(i.classList.add("ip-nav-show"),S("bind","right"))}function C(e){var t;(e.preventDefault(),m=v[Math.min(v.length,++h)],s=[],1===h)&&(null===(t=r)||void 0===t||t.classList.add("ip-nav-show"),S("bind","left"));if(h===v.length-1){var a,n;if(null===(a=i)||void 0===a?void 0:a.classList.contains("ip-nav-show"))null===(n=i)||void 0===n||n.classList.remove("ip-nav-show");S("unbind","right")}}function S(e,t){var a="left"===t?N:C;switch(e){case"bind":var n=document.querySelector(".ip-nav-".concat(t));n&&(n.addEventListener("touchstart",a,!1),n.addEventListener("click",a,!1),n.style.cursor="pointer");break;case"unbind":var o=document.querySelector(".ip-nav-".concat(t));o&&(o.removeEventListener("touchstart",a,!1),o.removeEventListener("click",a,!1),o.style.cursor="default")}}function O(){n.clearRect(0,0,a.width,a.height),function(){if([].forEach.call(c,(function(e,n){switch(m){case"random":d.x=e.initX,d.y=e.initY;break;case"uniform":case"pattern":var o=Math.floor(Math.sqrt(512)),r=Math.floor(e.stepCount/o),i=e.stepCount%o,c=a.width/o,l=a.height/o;d.x=r*c,d.y=i*l;break;case"ribbon":d.x=.5*a.width+90*Math.sin(n)*Math.cos(n),d.y=320+140*(-Math.sin(n)-1)}var s=.08*(1-e.friction);if(e.interactive)e.x-=(u.x-e.x)*s,e.y-=(u.y-e.y)*s,e.angle+=.08;else{var h=d.x-e.x,v=d.y-e.y;e.initialized&&!t.particlesBackToOrigin||(e.x+=h*s,e.y+=v*s,e.angle+=1e-4,e.initialized=h<.05&&v<.05)}})),s.length<l.length)for(var e=[].slice.call(l,s.length,l.length),n=0;n<e.length;n++)l.splice(n,1)}(),[].forEach.call(c,(function(e,t){if(e.alpha+=.05*(e.maxAlpha-e.alpha),e.hasBorn&&(e.radius+=(0-e.radius)*e.bornSpeed,0===Math.round(e.radius))){switch(m){case"random":e.color=f.random[~~(Math.random()*f.random.length)];break;case"uniform":e.color=f.uniform[~~(Math.random()*f.uniform.length)];break;case"pattern":e.color=f.drop[~~(Math.random()*f.drop.length)];var a=Math.floor(Math.sqrt(512)),n=Math.floor(e.stepCount/a),o=e.stepCount%a,r=Math.floor(a/2),i=Math.floor(.35*a),c=Math.floor(.85*a);if(o>i){var l=Math.abs(n-r);l*l/4>4*(c-o)&&(e.alpha=.1,e.maxAlpha=.1)}break;case"ribbon":e.color=f.ribbon[~~(Math.random()*f.ribbon.length)]}e.hasBorn=!1}e.hasBorn||(e.radius+=(e.maxRadius-e.radius)*e.bornSpeed,Math.round(e.radius)===e.maxRadius&&(e.hasBorn=!0));var s=function(e,t){var a=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(a*a+n*n)}(u,e)-e.radius;s<=240?(e.interactive=!0,e.friction=(s-120)/120,e.friction>.8&&(e.friction=1)):(e.interactive=!1,e.friction=0)})),[].forEach.call(c,(function(e,t){n.save(),n.globalAlpha=e.alpha,n.fillStyle=e.color,n.font="".concat(24,"px Lato, Arial, sans-serif"),n.fillText(e.char,e.x,e.y),n.beginPath(),n.fill(),n.restore()})),o=window.requestAnimFrame(O)}var F=function(e,t){return~~(Math.random()*(t-e+1)+e)},k=function(){var e=t.chars||["\u5b57"];return e[Math.floor(Math.random()*e.length)]};window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/660)},window.addEventListener("initCanvas",(function e(){window.removeEventListener("initCanvas",e,!1);var t,l=document.querySelector(".ip-slideshow"),s=document.querySelector("canvas");s&&(null===l||void 0===l||l.removeChild(s),a=null),(a=document.createElement("canvas")).width=1920,a.height=1440,null===l||void 0===l||l.appendChild(a),a.getContext&&a.getContext("2d")?(n=a.getContext("2d"),"ontouchmove"in window?(a.addEventListener("touchup",x,!1),a.addEventListener("touchmove",M,!1)):(a.addEventListener("mousemove",b,!1),a.addEventListener("mouseout",y,!1)),S("bind","left"),S("bind","right"),window.onresize=p,function(){for(var e=0;e<512;e++){var t,n,r=e/512,i=F(0,a.width),l=F(0,a.height);t=i,n=l-F(0,3*a.height);var s=F(0,1),d=!(s>0||s<12),u=f.random[~~(Math.random()*f.random.length)];c.push({friction:0,char:k(),initX:i,initY:l,x:t,y:n,hasBorn:d,ease:.04+.06*Math.random(),bornSpeed:.07+.07*Math.random(),alpha:0,maxAlpha:.7+.4*Math.random(),radius:s,maxRadius:3,color:u,interactive:!1,angle:0,steps:r,stepCount:e})}o&&window.cancelAnimationFrame(o);O()}(),r=document.querySelector(".ip-nav-left"),null===(t=i=document.querySelector(".ip-nav-right"))||void 0===t||t.classList.add("ip-nav-show")):console.error("Sorry, switch to a better browser to see this experiment.")}),!1)},f=(a(32),function(e){var t=e.chars,a=e.particlesBackToOrigin,r=e.mode;return console.log("SandTest1 rendered"),Object(n.useEffect)((function(){v(window,{chars:t,particlesBackToOrigin:a,mode:r}),function(){var e=document.createEvent("HTMLEvents");e.initEvent("initCanvas",!0,!0),e.eventName="initCanvas",document.dispatchEvent(e)}()}),[t,a,r]),o.a.createElement("div",{className:"sand-test-2"},o.a.createElement("div",{className:"ip-slideshow-wrapper"},o.a.createElement("div",{className:"ip-slideshow"})))}),p=(a(33),function(e){e.title,e.children;var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(["\u9019\u4e0d\u662f","\u771f\u6b63\u7684","\u6587\u6848"]),l=Object(m.a)(c,2),s=l[0],v=l[1],p=Object(n.useState)(""),g=Object(m.a)(p,2),E=(g[0],g[1],Object(n.useState)(!0)),b=Object(m.a)(E,2),w=b[0],y=b[1],x=Object(n.useState)("random"),M=Object(m.a)(x,2),N=M[0],C=M[1];console.log("SandTest1 rendered");s.length;return o.a.createElement("div",{className:"sand-test"},o.a.createElement("div",{className:"sand-test__body"},o.a.createElement("div",{className:"sand-test__board"},o.a.createElement("h2",null,"SAND TABLE TEST 1"),o.a.createElement("div",{className:"sand-board"},o.a.createElement(h.b,{defaultScale:1,options:{minScale:1,maxScale:4}},(function(e){var t=e.zoomIn,a=e.zoomOut,n=e.resetTransform;Object(d.a)(e,["zoomIn","zoomOut","resetTransform"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,null,o.a.createElement("div",{className:"sand-board__zoomer"},o.a.createElement("div",{className:"sand-board__body"},o.a.createElement(f,{chars:s,particlesBackToOrigin:w,mode:N})))),o.a.createElement("div",{className:"tools"},o.a.createElement("button",{type:"button",onClick:t},"+"),o.a.createElement("button",{type:"button",onClick:a},"-"),o.a.createElement("button",{type:"button",onClick:n},"x")))}))),o.a.createElement("nav",null,o.a.createElement("span",{className:"ip-nav-left"}),o.a.createElement("span",{className:"ip-nav-right"}))),o.a.createElement("div",{className:"sand-test__control"},o.a.createElement("div",{className:"sand-msg"},o.a.createElement("h3",null,"Messages"),o.a.createElement("p",null,"".concat(s.join("___"),"...")),o.a.createElement("div",{className:"sand-msg-input"},o.a.createElement("input",{type:"text",value:r,placeholder:"Leave you msg",onChange:function(e){return i(e.target.value)}}),o.a.createElement("button",{type:"button",onClick:function(){return v([].concat(Object(u.a)(s),[r])),void i("")}},"Submit"))),o.a.createElement("div",{className:"sand-options"},o.a.createElement("h3",null,"Options"),o.a.createElement("div",{className:"sand-option-group"},o.a.createElement("h4",{className:"sand-option-label"},"Particles move back?"),o.a.createElement("select",{onChange:function(e){return y("Y"===e.target.value)}},o.a.createElement("option",{value:"Y"},"Yes"),o.a.createElement("option",{value:"N"},"No"))),o.a.createElement("div",{className:"sand-option-group"},o.a.createElement("h4",{className:"sand-option-label"},"Particles Arrangement"),o.a.createElement("select",{onChange:function(e){return C(e.target.value)}},o.a.createElement("option",{value:"random"},"Random"),o.a.createElement("option",{value:"uniform"},"Uniform"),o.a.createElement("option",{value:"pattern"},"Pattern + Color")))))))}),g=function(){Object(s.a)().t,Object(l.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"main-layout"},o.a.createElement("div",{className:"main-layout__body"},o.a.createElement("h1",{className:"a11y-hidden"},"NWD50"),o.a.createElement("main",{className:"main-layout__content"},o.a.createElement(p,null)))))},E=function(){return o.a.createElement(c.a,null,o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/:lang?",component:g})))},b=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.c083a472.chunk.js.map